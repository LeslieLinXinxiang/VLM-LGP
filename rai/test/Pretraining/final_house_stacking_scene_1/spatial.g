# ==============================================================================
# final_scene_marked.g
# 包含：原始堆叠场景 + 实体化半透明坐标墙 (ssBox Markers)
# ==============================================================================

world {}

# 1. 桌子 (作为父节点)
# -----------------------------------------------------------
table (world) { 
    shape:ssBox, size:[2. 2. .1 .02], 
    Q:"t(0 0 .6)", 
    color:[.3 .3 .3], 
    contact:1 
}

# ==========================================================
# 2. 空间坐标参照墙 (Coordinate Reference Walls)
#    改用 ssBox 确保全角度可见，厚度 0.002 (2mm)
# ==========================================================

# --- X轴平面 (红色光墙) ---
# 作用: 分割 前(Front) / 后(Back)
# 尺寸: [长=2.0, 厚=0.002, 高=0.4, 圆角=0.001]
# 位置: 相对于 table 中心 (0, 0.3)，高度 Z=0.25
ref_plane_x (table) {
    Q: "t(0 0.3 0)",            # 无需旋转，直接定义长宽高
    shape: ssBox, size: [2.0 0.002 0.3 0.001], 
    color: [1 0 0 0.5],            # 红色, 0.6 透明度 (清晰可见)
    contact: 0,                    # 无碰撞
    logical: { is_marker }
}

# --- Y轴平面 (蓝色光墙) ---
# 作用: 分割 左(Left) / 右(Right)
# 尺寸: [厚=0.002, 长=2.0, 高=0.4, 圆角=0.001]
ref_plane_y (table) {
    Q: "t(0 0.3 0)",            # 无需旋转
    shape: ssBox, size: [0.002 2.0 0.3 0.001], 
    color: [0 0 1 0.5],            # 蓝色, 0.6 透明度
    contact: 0,
    logical: { is_marker }
}

# ==========================================================
# 3. 原始场景组件
# ==========================================================

# --- 底座 (base1) ---
# 目标: base1_target (table) { Q:"t(0 .3 .07)" }
base1 (table) { 
  Q:"t(0 .3 .07)",
  shape:ssBox, size:[.5 .4 .04 .002], color:[.8 .8 .8], 
  contact:1
}
base1_handle (base1) { Q:"t(0 0 .05)", color:[0 0 0 0] } 

# --- 第一层圆柱 (cyl1-4) ---
cyl1 (table) { Q:"t(-0.15 0.2 0.14)", shape:cylinder, size:[.1 .04], color:[1 1 0] } # Yellow
cyl2 (table) { Q:"t(0.15 0.2 0.14)", shape:cylinder, size:[.1 .04], color:[0 1 1] }  # Cyan
cyl3 (table) { Q:"t(-0.15 0.4 0.14)", shape:cylinder, size:[.1 .04], color:[1 0 1] } # Magenta
cyl4 (table) { Q:"t(0.15 0.4 0.14)", shape:cylinder, size:[.1 .04], color:[1 0 0] }  # Red

# --- 屋顶/第二层板 (roof1) ---
#roof1 (table) { 
#  Q:"t(0 0.3 0.20)",
#  shape:ssBox, size:[.5 .4 .04 .002], color:[0 0 0.5] # Dark Blue
#}
#roof1_handle (roof1) { Q:"t(0 0 .05)", color:[0 0 0 0] }
